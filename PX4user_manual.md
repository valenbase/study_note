# PX4不完全使用手册
### [源码地址链接](https://github.com/PX4/Firmware)
## Overview
* <b>环境搭建</b>
	* cmake
	* gcc
	* ninja
***
* <b>编译连接</b>
	* makefile文件
	* cmakelist文件
***
* <b>启动脚本</b>
	* 编译模块
	* 传感器
	* 机型特性相关
	* 通信设备
	* 串口的作用
	* SD卡
***
* <b>驱动</b>
	* linux驱动
	* 操作系统级
***
* <b>功能模块</b>
	* commander
	* navigator
	* posctl
	* mavlink
	* uORB
***
* <b>北航课件学习</b>
	* 起落架的作用
	>1、支撑；2、避免桨距离地面过近而发生碰撞；3、减少落地时的地面效应；4、消耗和吸收多旋翼在着地时的冲击力

	* 涵道
	>1、保护桨叶和人身安全；2、提高升力效应；3、较少噪音；工作原理是，进风口内壁空气速度快静压小，而进风口外壁静压大，因此涵道能产生附加升力。

	* 螺旋桨
	>1、直接产生推力；2、匹配的电机、电调、螺旋桨可以提高效率，提高续航时间；3、假设螺旋桨在不流动的介质中旋转，那么螺旋桨每转一圈，就会向前移动一个距离，成为螺距，桨叶的角度越大，螺距就越大，螺旋桨参数为4个数字，前两个是直径，后两个是螺距；4、转动惯量越小，控制起来更灵敏，并且改变转速所消耗的能量就越小，提高飞行效率。5、转速rpm(revolutions per minute,转/分钟)；6、材料，碳纤维<b>刚性</b>较好，产生振动和噪声较小；更轻，强度更大；适合用于高KV值电机，控制响应比较迅速；木浆适用于较大在中的多旋翼。7、<b>静平衡和动平衡的目的是减少振动</b>,静平衡是螺旋桨重心与周鑫线重合时的平衡状态，动平衡是指螺旋桨重心与其惯性重心重合时的平衡状态，通过贴透明胶或者砂纸打磨非边缘处平面来实现平衡。

	* 电机
	> 多旋翼的电机主要以无刷直流电机位置，将电能转换为机械能。无刷直流电机运转时，靠电子电路幻想，这样就极大减少了电火花对遥控无线电设备的干扰，也减少了噪声。
	> 电机的尺寸用四个数字表示，前两位表示转子的直径，后两位表示转子的高度。
	> 空载KV值，无刷电机KV值定义为转速/伏特，意思为输入电压增加1伏特，无刷电机空载转速增加的转速。

	* 电调
	> 电调全称电子调速器，Electronic speed control 简称ESC。最基本的功能是电机调速；充当换相器的角色。
	> 无刷电调最主要的参数是电调的功率，通常是A安数来表示，安数不足会导致电调甚至电机烧毁。
	> 无刷电调有持续电流和X秒呢瞬时电流两个重要参数，前者表示正常时的电流，后者表示X秒呢的容忍的最大电流。
	> 选择电调时，一定要注意电调的最大电流，否则容易烧毁。
	> 电机的相应速度与电调的刷新速率有很大关系。
	> 电调包含方波驱动和正弦波驱动，方波是数字信号，控制元件工作在开关状态，电路简单发热小。数字信号容易控制，正弦波属于模拟信号，模拟信号控制相当复杂，而且控制元件工作在放大状态发热厉害。
	> 正弦波驱动在运动平衡性，调速范围和减少噪声振动等要好很多。矢量控制，field oriented control
	> 电池的容量是用毫安时来表示的，5000毫安时的电池表示该电池以5000的电流放点可以持续一小时。但是，随着放点过程的进行，电池的放电能力在下降，其输出电压会缓慢下降，蓑衣导致其剩余容量与放电时间并非是线性关系。
	> 在实际飞行中，有两种方式可以检测电池的剩余容量，一种是检测单节电池的电压，另一种方式是实时检测电池输出电流做积分。满电电压4.2V，放电完毕3.0V，一般无人机电量到3.6V